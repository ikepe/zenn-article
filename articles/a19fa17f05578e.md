---
title: "macOS Tahoe でNASへのTimeMachineバックアップが失敗する問題と対処法"
emoji: "💻"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: [macOS, Tahoe, NAS, TimeMachine]
published: true
---

:::message
**結論**
コンピュータ名とバックアップボリューム名から日本語（濁点・半濁点を含む文字）を除去し、英数字のみにする。
:::

## はじめに
macOS 26 Tahoeにアップデート後、SynologyやQNAPなどのNASへのTimeMachineバックアップが「バックアップディスクが見つかりません」というエラーで失敗する問題が発生しています。本記事では、この問題の原因と解決方法を解説します。

## 経緯
macOS 26 Tahoeにアップデートしてから、TimeMachineを利用したバックアップに失敗することが増えました。
自宅と研究室それぞれでバックアップを取っていたのですがどちらも失敗していたので原因調査をしました。

## 解決方法

原因はNFD/NFCのUnicode正規化形式の問題でした。日本語などの濁点・半濁点を含む文字を使用している名前を英数字に変更することで解決します。

### 1. コンピュータ名を英数字に変更する

macOSのコンピュータ名に日本語が含まれている場合、英数字のみの名前に変更します。

**手順:**
1. システム設定を開く
2. 「一般」→「情報」と進む
3. 「コンピュータ名」を英数字のみの名前に変更する
   - 例: 「田中のMacBook」→「Tanaka-MacBook」

### 2. バックアップボリューム名を英数字に変更する

TimeMachineのバックアップボリューム名にも日本語が含まれている場合、こちらも変更する必要があります。これが最も重要な手順です。

**手順:**
1. FinderでNASに接続する
2. バックアップ先のフォルダを開き、`<端末名>.sparsebundle` というファイルを探す
3. `.sparsebundle` ファイルをダブルクリックしてマウントする
4. Finderのサイドバーでマウントされたボリューム名を確認する
   - 通常、`<端末名>のバックアップ` という名前になっている
5. ボリューム名を右クリックして「名前を変更」を選択
6. 英数字のみの名前に変更する
   - 例: 「田中のMacBookのバックアップ」→「Backup of Tanaka-MacBook」
7. ボリュームをアンマウント(取り出し)する
8. TimeMachineを実行してバックアップが正常に動作することを確認する

![](/images/a19fa17f05578e/finder-1.png)

:::message alert
バックアップボリューム名の変更は、sparsebundleをマウントした状態で、マウントされたボリューム自体の名前を変更する必要があります。sparsebundleファイル名を変更するだけでは解決しません。
:::


## NFD/NFCとは

NFD(Normalization Form Canonical Decomposition)とNFC(Normalization Form Canonical Composition)は、Unicodeの正規化形式の一種です。日本語の濁点や半濁点を含む文字を表現する方法が異なります。

### NFC(合成形式)
濁点や半濁点が文字と結合した形で表現されます。
- 例:「バ」= `U+30D0` (1文字)
- 例:「プ」= `U+30D7` (1文字)

### NFD(分解形式)
濁点や半濁点が基底文字と結合文字に分解されて表現されます。
- 例:「バ」= `U+30CF`(ハ) + `U+3099`(濁点) (2文字)
- 例:「プ」= `U+30D5`(フ) + `U+309A`(半濁点) (2文字)

Finder上では見た目は同じ「バックアップ」でも、内部的には異なる文字コード列として扱われています。

## 今回の原因

macOS 26 Tahoe において、TimeMachineのバックアップに失敗する原因は、Unicodeの正規化形式の扱いが変更されたことにあります。

### 具体的な問題

1. **TimeMachineがバックアップ用ディスクイメージ(.sparsebundle)を作成する際**
   - ボリューム名が**NFC形式**で保存される
   - 例: 「〇〇のバックアップ」という名前がNFC形式で記録

2. **macOS 26 Tahoeでボリュームを探す際**
   - ボリューム名を**NFD形式**で探すように変更された
   - 例: 「〇〇のバックアップ」をNFD形式で検索

3. **結果として**
   - NFC形式で保存されたボリューム名と、NFD形式で検索するボリューム名が一致しない
   - TimeMachineはバックアップボリュームを見つけられず、「バックアップディスクが見つかりません」というエラーが表示される

なお、macOSのUnicode正規化形式の問題は過去にも発生しており、2023年3月にリリースされた「macOS 13.3 Ventura」でもNFC形式の濁音を含むファイルが開けないという同様の問題が報告されていたそう。

## 参考文献

### macOS Tahoe のTimeMachine問題について
https://hkob.hatenablog.com/entry/2025/10/01/050000
NAS への TimeMachine バックアップ障害対策の具体的な手順

https://applech2.com/archives/20250922-macos-26-tahoe-nas-time-machine-issue.html
macOS 26 TahoeのUnicode正規化形式(NFD/NFC)問題の詳細

https://community.synology.com/enu/forum/1/post/194663
Synology CommunityでのTime Machine問題の議論

### Unicodeの正規化形式について
https://unicode.org/reports/tr15/
Unicode正規化形式の公式仕様(Unicode Normalization Forms)

### 過去の類似問題
https://applech2.com/archives/20230402-nfd-and-nfc-issues-in-macos-13-3-ventura.html
macOS 13.3 VenturaでのNFD/NFC問題
