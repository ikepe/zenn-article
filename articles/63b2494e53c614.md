---
title: "Mac mini サーバのススメ"
emoji: "🍎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [macmini]
published: false
---

## はじめに
誰しもが自宅サーバを運用してみたいと思うものですが、そのハードルはかなり高いと思います。最近私が推しているMac miniサーバについて解説していきます

## 自宅サーバについて
そもそも自宅サーバって何をするのか、VPSではダメなのか？
私が自宅サーバ運営をする理由はロマンです。

### なぜmac mini 2012にしたのか
まずは、Mac miniを選ぶメリットは
- コンパクトで静音, 省電力
- Apple製という謎の安心感
- リセール価格の高さ

そして2012年モデルをあえて選ぶメリットは
- コスパが良い
- 2.5インチのHDDやSSDを2台搭載できる
- メモリの増設ができる

です。
メルカリでMac mini 2012と検索すると¥13000前後で取引されています。
![](/images/macmini-1.jpeg)
*メルカリでの販売価格*

2014年モデルはメモリの増設、ストレージ交換ができない点、2018年モデルはメモリ増設はできるもののまだまだ値段が高いので2012年モデルが一番コスパが良いと考えています。

### 導入の流れ
私が購入したモデルはi7-3615QM(4コア8スレッド)で、RAMは自力で16GBに増設、ストレージも1TBのSSD、HDDに換装しました。1TBのHDD付で¥15000で購入しました。

ストレージを増設するには専用のケーブルが必要です。ケーブルだけのものや、工具が全て揃っている高級なものまで様々で悩みますが、工具つきで一番安いものを購入しました。今のところ問題なく使えているのでそれで大丈夫だと思います。

https://www.amazon.co.jp/gp/product/B01CXVJ9JG/

:::message alert
上段・下段で色々ややこしいので調べるor一度分解してどっちに載ってるか調べてから購入してください。
:::

分解・増設は以下のサイトを参考にしました。
https://sekinesan.jp/blog/2017/05/23/17203

かなり硬いですが手順通り行えばそこまで難しくないと思います。それよりもマザーボードと電源がとても小さい。感動。

また、OSはProxmox VEという、仮想環境を簡単に構築できるハイパーバイザ型のOSです。このOSについてまだまだ理解が足りていないので詳細は省略しますが、Web GUIで簡単にVMやコンテナを立てることができ、複数サーバ間でマイグレーションやCephという分散ストレージを使用することができます。
Ubuntuなどを使う場合も、特に違いはないので、USBメモリなどでインストールメディアを作成してインストールしてください。

### 追加導入するもの
基本的に他のパソコンと同様にSSH接続の設定や、IPアドレスの固定などはしましょう。また、Mac miniのファンはそのままだと正しく認識してくれないので、macfanctldを使ってcpuファンの設定をしましょう。
以下のサイトを参考に設定しました
https://qiita.com/zawanume/items/86214295b9c54a5f5b4c


## 導入後の感想
まずは消費電力がとても少ないです。
powertopでの値ですが、負荷がかかっている時でも25w前後、ほとんど使っていない時は5w程度しか使用していません。以前使っていたサーバがとても電気を食っていたので余計に感動しました。
また、とてもコンパクトでそこそこの性能があることも満足しています。現在、マイクラサーバや開発環境などのコンテナをmac miniサーバで走らせていますが、まだまだリソースが余っており、2012年モデルでもまだまだ現役だと感じました。今後mac miniを買い足す際にも積み上げることができるのも良いと思います。

逆に、不満点は発熱です。想像以上に発熱しており、ファンを止めると本体がかなり熱くなります。cpu温度が50度前後になるようにファンの速度を設定しているのですが、かなり回転しており、近づくと音が気になります。